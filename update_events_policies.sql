ALTER TABLE IF EXISTS events DISABLE ROW LEVEL SECURITY; DROP POLICY IF EXISTS "Users can view their own events" ON events; DROP POLICY IF EXISTS "Users can insert their own events" ON events; ALTER TABLE events ENABLE ROW LEVEL SECURITY; CREATE POLICY "Anyone can view events" ON events FOR SELECT USING (true); CREATE POLICY "Authenticated users can create events" ON events FOR INSERT WITH CHECK (auth.role() = 'authenticated'); CREATE POLICY "Users can update their own events" ON events FOR UPDATE USING (auth.uid() = user_id) WITH CHECK (auth.uid() = user_id);
