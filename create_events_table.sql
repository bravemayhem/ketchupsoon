CREATE TABLE IF NOT EXISTS events (id UUID DEFAULT gen_random_uuid() PRIMARY KEY, title TEXT NOT NULL, date TIMESTAMP WITH TIME ZONE NOT NULL, location TEXT, description TEXT, created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc'::text, NOW()) NOT NULL, user_id UUID REFERENCES auth.users(id)); ALTER TABLE events ENABLE ROW LEVEL SECURITY; CREATE POLICY "Users can view their own events" ON events FOR SELECT USING (auth.uid() = user_id); CREATE POLICY "Users can insert their own events" ON events FOR INSERT WITH CHECK (auth.uid() = user_id);
